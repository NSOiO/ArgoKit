source 'https://github.com/CocoaPods/Specs.git'

platform :ios, '10.0'

use_frameworks!:linkage => :static
use_modular_headers!

target 'ArgoKitDemo' do
  pod 'ArgoKit', :path=>'../'
  pod 'ArgoKitPreview', :path=>'../', :link_style => 'weak'
  pod 'ArgoKitComponent', :path =>'../'
  
#  pod 'ArgoUI/Kit/AnimationCPP', :git => 'https://github.com/mmdongxin/MLN', :branch => 'dev_iOS_dx_temp'
#  pod 'ArgoUI/Kit/AnimationKit', :path => '../../MLN/ArgoUI.podspec'
# :modular_headers => true
end

#post_integrate do |installer|
#  ap_target = 'ArgoKitPreview'
#  installer.generated_pod_targets.each do |target|
#    if target.name == ap_target
#      pod_dir = target.sandbox.pod_dir(target.name)
#      file_path = "#{pod_dir}/Source/Script/argokit_preview_config.rb"
#      require file_path
#      integrate_argokit_preview installer
#    end
#  end
#end

post_integrate do |installer|
    ap_target = 'ArgoKitPreview'
    main_project = 'ArgoKitDemo'
    main_target = 'ArgoKitDemo'
    
    installer.generated_pod_targets.each do |target|
      if target.name == ap_target
        pod_dir = target.sandbox.pod_dir(target.name)
        file_path = "#{pod_dir}/Source/Script/argokit_preview_config.rb"
        require file_path
        integrate_argokit_preview installer, main_project, main_target
      end
    end
end
