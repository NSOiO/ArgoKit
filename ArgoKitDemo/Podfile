source 'https://github.com/CocoaPods/Specs.git'

platform :ios, '10.0'

#use_frameworks!:linkage => :static
use_modular_headers!

target 'ArgoKitDemo' do
  pod 'ArgoKit', :path=>'../'  #, :use_frameworks! => true, :linkage => :static,:modular_headers => false
  pod 'ArgoKitPreview', :path=>'../', :link_style => 'weak'  #, :use_frameworks! => true, :linkage => :static,:modular_headers => false
  pod 'ArgoAnimation', :path => '../../../MLNUI/MLN'  #, :use_frameworks! => true, :linkage => :static,:modular_headers => true
  
#  pod 'ArgoUI/Kit/AnimationCPP', :git => 'https://github.com/mmdongxin/MLN', :branch => 'dev_iOS_dx_temp'
#  pod 'ArgoUI/Kit/AnimationKit', :path => '../../MLN/ArgoUI.podspec'
# :modular_headers => true
end


dynamic_frameworks = ['ArgoKit','ArgoKitPreview', 'Yoga'] # <- swift libraries names

# Make all the other frameworks into static frameworks by overriding the static_framework? function to return true
pre_install do |installer|
  installer.pod_targets.each do |target|
    if dynamic_frameworks.include?(target.name)
      puts "Overriding the static_framework? method for #{target.name}"
      def target.static_framework?;
        true
      end
      def target.build_type;
        Pod::BuildType.static_framework
      end
    end
  end
end
