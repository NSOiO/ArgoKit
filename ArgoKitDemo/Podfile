source 'https://github.com/CocoaPods/Specs.git'

platform :ios, '10.0'
use_frameworks!:linkage => :static
use_modular_headers!

target 'ArgoKitDemo' do
  pod 'ArgoKit', :path=>'../'
  pod 'ArgoKitPreview', :path=>'../' #, :link_style => 'weak'
  pod 'ArgoKitComponent', :path =>'../'
end


# from argokit_preview_config.rb
post_integrate do |installer|
    main_project = 'ArgoKitDemo'
    main_target = "ArgoKitDemo"
    
    installer.generated_pod_targets.each do |target|
      if target.name == "ArgoKitPreview"
        pod_dir = target.sandbox.pod_dir(target.name)
        file_path = "#{pod_dir}/Source/Script/argokit_preview_config.rb"
        require file_path
        integrate_argokit_preview installer, main_project, main_target
      end
    end
    
#    installer.aggregate_targets.each do | t |
#      puts '====='
#      puts t
#      puts  t.user_project
#      puts '====='
#    end
end
